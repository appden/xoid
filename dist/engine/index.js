"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=Symbol(),r=Symbol(),t=Symbol(),n=function(e){var r="string"==typeof e||"number"==typeof e||"symbol"==typeof e;return{isPluck:r,fn:r?function(r){return r[e]}:e}};function o(r,t){if(void 0===t)return r;var o=n(t).fn,u=function(){return o(r())};return u[e]=r[e],u}var u=function(r){return function(t,n){var o,u=function(){o&&"function"==typeof o&&o(),o=void 0},c=t();r&&(o=n(c,c));var i=t[e].notifier.subscribe((function(){var e=t();e!==c&&(u(),o=n(e,c),c=e)}));return function(){u(),i()}}},c=u(!1),i=u(!0);exports.META=e,exports.RECORD=r,exports.USABLE=t,exports.createCleanup=function(){var e=new Set;return{onCleanup:function(r){e.add(r)},cleanupAll:function(){e.forEach((function(e){return e()})),e.clear()}}},exports.createGetState=function(r,t){return function(n,u){if(!n[e])return t(u(r)),n();var i=o(n,u);return t(c(i,r)),i()}},exports.createNotifier=function(){var e=new Set;return{listeners:e,notify:function(r){return e.forEach((function(e){return e(r)}))},subscribe:function(r){return e.add(r),function(){return e.delete(r)}}}},exports.createReadable=o,exports.createSubscribe=u,exports.createTarget=function(e,r){return function(t){return 0===arguments.length?e():r(t)}},exports.effect=i,exports.parseSelector=n,exports.subscribe=c;
